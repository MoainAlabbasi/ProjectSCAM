# سجل التغييرات ودليل التشغيل (v2.0)

هذا المستند يلخص التغييرات والإصلاحات التي تمت في هذه النسخة، ويوفر دليلاً سريعاً لتشغيل المشروع والبدء في استخدامه.

---

## 1. ملخص التغييرات والإصلاحات

تم إجراء عملية إعادة هيكلة شاملة للكود المصدري لمعالجة الأخطاء الحرجة وتحسين الأداء. فيما يلي قائمة بالإصلاحات الرئيسية:

| المعرف | الخطأ (Bug) | الوصف والتأثير | حالة الإصلاح |
| :--- | :--- | :--- | :--- |
| **BUG-001** | تناقض في أسماء الأدوار | كان الكود يتوقع أسماء أدوار بأحرف صغيرة (`admin`) بينما هي مسجلة بأحرف كبيرة (`Admin`)، مما كان يسبب فشلاً في التحقق من الصلاحيات. | **تم الإصلاح ✅** |
| **BUG-002** | انهيار نظام ترقية الخريجين | كان النظام ينهار عند محاولة ترقية طالب في المستوى 8 لعدم وجود مستوى 9. | **تم الإصلاح ✅** |
| **BUG-003** | انهيار وظائف الذكاء الاصطناعي | كانت نماذج الذكاء الاصطناعي تحتوي على حقول غير موجودة في قاعدة البيانات، مما كان يسبب انهياراً عند محاولة حفظ الملخصات أو الأسئلة. | **تم الإصلاح ✅** |
| **BUG-004** | بطء شديد في استيراد المستخدمين | كانت عملية استيراد المستخدمين تستخدم حلقة تكرارية بطيئة لإنشاء السجلات واحداً تلو الآخر. | **تم الإصلاح ✅** |

**تحسينات إضافية:**
*   **إعادة بناء قاعدة البيانات:** تم حذف قاعدة البيانات القديمة وإعادة بنائها من الصفر لضمان تطابقها الكامل مع النماذج المصححة.
*   **سكريبت زراعة البيانات:** تم إنشاء سكريبت (`seed_test_data.py`) لزراعة بيانات اختبار واقعية، مما يسهل عملية الاختبار والتحقق.

---

## 2. دليل التثبيت والتشغيل السريع

لتشغيل المشروع محلياً، اتبع الخطوات التالية (تم اختبارها على بيئة Ubuntu 22.04 مع Python 3.11):

1.  **إنشاء بيئة افتراضية (اختياري ولكن موصى به):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

2.  **تثبيت المتطلبات:**
    ```bash
    pip install -r requirements.txt
    ```

3.  **تشغيل خادم التطوير:**
    ```bash
    python manage.py runserver
    ```

4.  **الوصول إلى التطبيق:**
    يمكنك الآن الوصول إلى التطبيق عبر الرابط: [http://127.0.0.1:8000](http://127.0.0.1:8000)

---

## 3. بيانات الدخول للحسابات التجريبية

استخدم الحسابات التالية لتسجيل الدخول واختبار وظائف النظام المختلفة:

| الدور | اسم المستخدم (Academic ID) | كلمة المرور | ملاحظات |
| :--- | :--- | :--- | :--- |
| **مدير النظام** | `admin` | `Admin@123` | يمتلك صلاحيات كاملة على النظام. |
| **المدرس** | `inst001` | `Inst@123` | يمكنه رفع الملفات وإدارة مقرراته. |
| **طالب (مستوى 7)** | `202101` | `Student@123` | طالب حالي يمكنه عرض المواد والتفاعل. |
| **طالب (مستوى 8)** | `202001` | `Student@123` | طالب جاهز للترقية إلى "خريج". |
